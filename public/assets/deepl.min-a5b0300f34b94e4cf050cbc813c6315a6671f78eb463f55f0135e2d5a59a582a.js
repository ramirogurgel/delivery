var LinkwiseAutoDeeplinks={request_url:"go.linkwi.se/delivery/rest_deeplink.php?",forbidden_domains:["linkwi.se","linkwise.gr","javascript:void[(]{1}0[)]{1}","facebook.com","twitter.com","wikipedia.org","blogger.com","google.","youtube.com","microsoft.com","dropbox.com","paypal.com","apple.com","reddit.com"],detect_protocol:function(){var a=document.URL.indexOf("https://")!=-1?"https://":"http://";
this.request_url=a+this.request_url},check_if_it_is_allowed:function(c){for(var a=0,b=this.forbidden_domains.length;a<b;a++){if(c.search(this.forbidden_domains[a])!=-1){return false}}return true},get_domain_name_from_url:function(a){return a.replace("http://","").replace("https://","").split(/[/?#]/)[0]
},get_subid:function(a,b){return(typeof b!="undefined"&&b.length!=0?"&"+a+"="+encodeURIComponent(b):"")},create_subids_part:function(e,d,b,a,f){var c="";for(i=1;i<=arguments.length;i++){c+=this.get_subid("subid"+i,arguments[i-1])}return c},validate_CD:function(a){if(a.toLowerCase().search("cd")!=0){return false
}var b=a.substr(2);if(isNaN(b)||!isFinite(b)){return false}if(!(Math.floor(b)==b)){return false}return true},send_request:function(c,d,a,f,b){var e=new XMLHttpRequest();if("withCredentials" in e){e.open("GET",c,true);e.onreadystatechange=function(){if(e.readyState==4&&e.status==200){var g=JSON.parse(e.response);
g=g.response;for(var l=0,m=g.length;l<m;l++){if(g[l].deeplink!=null){for(var k=f,h=a.length;k<h;k++){if(d[a[k]].href==g[l].url){d[a[k]].href=g[l].deeplink+b;break}}}}}}}else{if(typeof XDomainRequest!="undefined"){e=new XDomainRequest();e.open("GET",c);e.onerror=function(){};
e.onprogress=function(){};e.ontimeout=function(){};e.onload=function(){var g=JSON.parse(e.responseText);g=g.response;for(var l=0,m=g.length;l<m;l++){if(g[l].deeplink!=null){for(var k=f,h=a.length;k<h;k++){if(d[a[k]].href==g[l].url){d[a[k]].href=g[l].deeplink+b;
break}}}}}}else{e=null}}if(!e){return}e.send()},replace_after_DOM_loaded:function(a,x,w,v,u,s){if(!this.validate_CD(a)){return}var o="";var p="urls"+encodeURIComponent("[]")+"=";var r="an="+a+"&";var n="format=json";var e=document.getElementsByTagName("a");
var q=this.get_domain_name_from_url(document.URL);var k=[];var l=0;var d=0;var b=initial_length=this.request_url.length+n.length+r.length;var g=(p+"&").length;var f,c;var t=this.create_subids_part(x,w,v,u,s);for(var m=0,h=e.length;m<h;m++){c=this.get_domain_name_from_url(e[m].href);
if(q!=c&&this.check_if_it_is_allowed(c)){f=encodeURIComponent(e[m].href);if((b+f.length+g)>2000){b=initial_length;this.send_request(this.request_url+r+o+n,e,k,d,t);o="";d=l}b+=f.length+g;o+=p+f+"&";k[l]=m;l++}}if(o!=""){this.send_request(this.request_url+r+o+n,e,k,d,t)
}},replace:function(f,e,c,b,a,g){function d(){LinkwiseAutoDeeplinks.detect_protocol();LinkwiseAutoDeeplinks.replace_after_DOM_loaded(f,e,c,b,a,g)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",d,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",d)
}}}};
